<% layout('layouts/boilerplate') %>
<div class="row">
    <h1 class="text-center">Edit Article</h1>
    <div class="col-6 offset-3">
        <form id="myForm" action="/articles/<%= article._id %>?_method=PUT" method="POST" novalidate class="validated-form" enctype="multipart/form-data">
            <div class="mb-3">
                <label class="form-label" for="title">Title</label>
                <input class="form-control" type="text" id="title" name="article[title]" value="<%= article.title %>" required>
            </div>
            <div class="mb-3">
                <label class="form-label" for="game">Game</label>
                <input class="form-control" type="text" id="game" name="article[game]" value="<%= article.game %>" required>
            </div>
            <div class="mb-3">
                <label class="form-label" for="console">Console</label>
                <input class="form-control" type="text" id="console" name="article[console]" value="<%= article.console %>" required>
            </div>
            <div class="mb-3">
                <label class="form-label" for="release">Release</label>
                <input class="form-control" type="text" id="release" name="article[release]" value="<%= article.release %>" required>
            </div>
            <div class="mb-3">
                <label class="form-label" for="image">Add Image</label>
                <input type="file" name="image" id="image" multiple>
            </div>
            <div class="mb-3">
                <label class="form-label" for="blog">Blog</label>
                <textarea class="form-control" id="mytextarea" name="article[blog]"><%= article.blog %></textarea>
            </div>

            <!-- Movies Section -->
            <h2>Movies</h2>
            <% for(let i = 0; i < 5; i++) { %>
                <div class="mb-3">
                    <label class="form-label" for="movieTitle<%= i %>">#<%= i + 1 %> Movie Title</label>
                    <input class="form-control" type="text" name="article[movies][<%= i %>][title]" id="movieTitle<%= i %>" value="<%= article.movies[i] ? article.movies[i].title : '' %>" required>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="movieImage<%= i %>">#<%= i + 1 %> Movie Image</label>
                    <input class="form-control" type="file" name="movies" id="movieImage<%= i %>" accept="image/*">
                </div>
            <% } %>

            <!-- Music Section -->
            <h2>Music</h2>
            <% for(let i = 0; i < 5; i++) { %>
                <div class="mb-3">
                    <label class="form-label" for="musicTitle<%= i %>">#<%= i + 1 %> Music Title</label>
                    <input class="form-control" type="text" name="article[music][<%= i %>][title]" id="musicTitle<%= i %>" value="<%= article.music[i] ? article.music[i].title : '' %>" required>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="musicImage<%= i %>">#<%= i + 1 %> Music Image</label>
                    <input class="form-control" type="file" name="music" id="musicImage<%= i %>" accept="image/*">
                </div>
            <% } %>

            <!-- NBA Section -->
            <h2>NBA</h2>
            <% for(let i = 0; i < 5; i++) { %>
                <div class="mb-3">
                    <label class="form-label" for="nbaTitle<%= i %>">#<%= i + 1 %> NBA Team</label>
                    <input class="form-control" type="text" name="article[nba][<%= i %>][title]" id="nbaTitle<%= i %>" value="<%= article.nba[i] ? article.nba[i].title : '' %>" required>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="nbaImage<%= i %>">#<%= i + 1 %> NBA Team Image</label>
                    <input class="form-control" type="file" name="nba" id="nbaImage<%= i %>" accept="image/*">
                </div>
            <% } %>

            <!-- NHL Section -->
            <h2>NHL</h2>
            <% for(let i = 0; i < 5; i++) { %>
                <div class="mb-3">
                    <label class="form-label" for="nhlTitle<%= i %>">#<%= i + 1 %> NHL Team</label>
                    <input class="form-control" type="text" name="article[nhl][<%= i %>][title]" id="nhlTitle<%= i %>" value="<%= article.nhl[i] ? article.nhl[i].title : '' %>" required>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="nhlImage<%= i %>">#<%= i + 1 %> NHL Team Image</label>
                    <input class="form-control" type="file" name="nhl" id="nhlImage<%= i %>" accept="image/*">
                </div>
            <% } %>

            <!-- MLB Section -->
            <h2>MLB</h2>
            <% for(let i = 0; i < 5; i++) { %>
                <div class="mb-3">
                    <label class="form-label" for="mlbTitle<%= i %>">#<%= i + 1 %> MLB Team</label>
                    <input class="form-control" type="text" name="article[mlb][<%= i %>][title]" id="mlbTitle<%= i %>" value="<%= article.mlb[i] ? article.mlb[i].title : '' %>" required>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="mlbImage<%= i %>">#<%= i + 1 %> MLB Team Image</label>
                    <input class="form-control" type="file" name="mlb" id="mlbImage<%= i %>" accept="image/*">
                </div>
            <% } %>

            <!-- NFL Section -->
            <h2>NFL</h2>
            <% for(let i = 0; i < 5; i++) { %>
                <div class="mb-3">
                    <label class="form-label" for="nflTitle<%= i %>">#<%= i + 1 %> NFL Team</label>
                    <input class="form-control" type="text" name="article[nfl][<%= i %>][title]" id="nflTitle<%= i %>" value="<%= article.nfl[i] ? article.nfl[i].title : '' %>" required>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="nflImage<%= i %>">#<%= i + 1 %> NFL Team Image</label>
                    <input class="form-control" type="file" name="nfl" id="nflImage<%= i %>" accept="image/*">
                </div>
            <% } %>

            <div class="mb-3">
                <button class="btn btn-success">Update</button>
            </div>
        </form>
        <div>
            <a class="btn btn-warning" href="/articles/<%= article._id %>">Back to <%= article.game %></a>
        </div>
    </div>
</div>
